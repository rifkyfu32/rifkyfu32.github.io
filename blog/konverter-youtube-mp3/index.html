<!DOCTYPE html>
<html lang="en">

<head>
    <title>Membuat aplikasi konverter youtube ke Mp3 mutiplatform</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<meta itemprop="name" content="Membuat aplikasi konverter youtube ke Mp3 mutiplatform">
<meta itemprop="description" content="Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.
Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota :joy:), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer&hellip;
Bagaimana kalo di smartphone?
Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe&hellip; :sweat_smile:">


<meta itemprop="datePublished" content="2019-04-08T20:29:06&#43;07:00" />
<meta itemprop="dateModified" content="2019-04-08T20:29:06&#43;07:00" />
<meta itemprop="wordCount" content="1313">



<meta itemprop="keywords" content="tag," />


<meta property="og:title" content="Membuat aplikasi konverter youtube ke Mp3 mutiplatform" />
<meta property="og:description" content="Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di Youtube, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.
Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota :joy:), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini Online Video Converter kalo saya sedang memakai komputer&hellip;
Bagaimana kalo di smartphone?
Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe&hellip; :sweat_smile:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rifkyfu32.github.io/blog/konverter-youtube-mp3/" />



<meta property="article:published_time" content="2019-04-08T20:29:06&#43;07:00"/>

<meta property="article:modified_time" content="2019-04-08T20:29:06&#43;07:00"/>











<meta content='summary_large_image' name='twitter:card' />
<meta content='@Fuu_ady' name='twitter:site' />
<meta content='@Fuu_ady' name='twitter:creator' />
<meta property='og:image' content='https://rifkyfu32.github.io'
/>
<meta content='id_ID' property='og:locale' />
<meta content='ms_MY' property='og:locale:alternate' />
<meta content='en_US' property='og:locale:alternate' />

<meta content='rifky.fuady2' property='fb:profile_id' />

<meta property="article:author" content="https://web.facebook.com/rifky.fuady2" />


<link rel="icon" href="/img/favicon.png" />

<link rel="stylesheet" href="/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/prism.css" />
<link rel="stylesheet" href="/css/style.css" />



<link href='https://fonts.googleapis.com/css?family=Merriweather:400,700' rel='stylesheet' type='text/css'> 

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-145189876-1', 'auto');
ga('send', 'pageview');
</script>


</head>

<body class="bg-light">

    <header>
    <div class="container">
        <div class="row">
            <div class="col text-center mt-5">
                <h1>
                    <a href="https://rifkyfu32.github.io">
                        <img class="mw-100" src="/img/logo.png" height="100" alt="logo" />
                    </a>
                </h1>

                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/portofolio">Portofolio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.instagram.com/fuadyrifky" target="blank">Instagram</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/rifkyfu32" target="blank">Github</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</header>


    <div class="container mt-5 mb-5">
        <div class="row align-items-center justify-content-center">
            <div class="col-lg-8 col-12">
                <div class="card rounded-0 post-outer">
                    <div class="card-body p-md-5">
                        <div class="post-content">
                            <div class="post-header mb-3">
                                <h2 class="post-title">Membuat aplikasi konverter youtube ke Mp3 mutiplatform</h2>
                                <hr>
                                <time class="text-secondary small" title="2019-04-08 20:29:06 &#43;0700 WIB">8 Apr 2019</time>
                            </div>
                            <div class="post-body">
                                <p>Sering sekali saya menemukan lagu yang menurut pendapat saya bagus di <a href="https://youtube.com">Youtube</a>, akan tetapi saya hanya ingin mendengarkan lagunya saja tidak dengan videonya.</p>

<p>Alih-alih ingin menghemat kuota internet dirumah (Indihome berkuota ðŸ˜‚), saya sering melakukan konvert youtube ke mp3 dengan aplikasi web ini <a href="https://www.onlinevideoconverter.com/mp3-converter">Online Video Converter</a> kalo saya sedang memakai komputer&hellip;</p>

<p><strong>Bagaimana kalo di smartphone?</strong></p>

<p>Beberapa kali saya mencoba donwload aplikasi dari Apps Store ada dua jenis aplikasi, yaitu aplikasi gratis tetapi banyak iklan atau yang tidak ada iklan tetapi berbayar, hehe&hellip; ðŸ˜…</p>

<p><strong>Gimana kalo coba bikin aplikasi konverter youtube ke Mp3 sendiri?</strong></p>

<p>Yaps, bisa donk. Semenjak bercinta dengan <a href="https://flutter.dev/">Flutter</a> bikin aplikasi mobile multiplatform (Android/IOS) jadi mudah, karena <code>everything is a widget</code> !!!</p>

<p>Kita akan menggunakan tools <a href="https://y2mate.com/">Youtube Donwloader</a> untuk mengambil data dan konversi ke format MP3.</p>

<p><strong># Persiapan</strong></p>

<p>Seperti biasa, jalankan editor Visual Studio Code, Selanjutnya buat projek baru dengan menekan kombinasi tombol <code>CTRL+SHIFT+P</code> dan tulis nama projeknya misalnya <code>konverter-youtube-mp3</code>. Untuk nama aplikasi harus huruf kecil semua dan tidak boleh mengandung spasi.</p>

<p><strong># Tambahkan library</strong></p>

<p>Untuk menambahkan libarary yang akan kita gunakan, buka dan edit file <code>pubspec.yaml</code> seperti dibawah ini :</p>

<pre><code class="language-bash">dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^0.1.2
  http: ^0.12.0+2 
  toast: ^0.1.4 
  font_awesome_flutter: ^8.4.0
  dio: ^2.1.0
  path_provider: ^0.5.0+1
  simple_permissions: ^0.1.9
</code></pre>

<p><strong># Bikin class model</strong></p>

<p>Untuk membuat object dari data <a href="https://y2mate.com/">Youtube Donwloader</a>, bikin file baru beri nama <code>youtube_model.dart</code>, berikut ini <code>snippet code</code>-nya :</p>

<pre><code class="language-bash">class Result {
  String id;
  String vid;
  String ajax;
  String ftype;
  String fquality;
  String audioName;
  String thumbnail;
  String duration;

  Result(
      {this.id,
      this.vid,
      this.ajax,
      this.ftype,
      this.fquality,
      this.audioName,
      this.thumbnail,
      this.duration});

  Result.convertResult(String inpute) {
    id = RegExp(r&quot;\\n_id: '(.*?)',&quot;).firstMatch(inpute).group(1);
    vid = RegExp(r&quot;v_id: '(.*?)',&quot;).firstMatch(inpute).group(1);
    audioName = RegExp(r&quot;data_vtitle = \\&quot; &quot;(.*?)\\&quot; &quot;;&quot;).firstMatch(inpute).group(1).replaceAll(RegExp('&quot;\\&quot;|&quot;'), &quot;&quot;).replaceAll(&quot;\\&quot;, &quot;&quot;);
    thumbnail = RegExp(r'&lt;img src=\\&quot;(.*?)\\&quot;').firstMatch(inpute).group(1).replaceAll(&quot;\\&quot;, &quot;&quot;);
    duration = RegExp(r'&gt;Duration:.(.*?)&lt;').firstMatch(inpute).group(1);
    fquality = &quot;128&quot;;
    ajax = &quot;1&quot;;
    ftype = &quot;.mp3&quot;;
  }
}
</code></pre>

<p><strong># Halaman Utama</strong></p>

<p>Selanjutnya untuk membuat halaman utama, buat file baru dengan nama <code>youtube_konversi.dart</code>, berikut ini <code>snippet code</code>-nya :</p>

<pre><code class="language-bash">import 'dart:io';
import 'package:flutter/material.dart';
import 'package:http/http.dart' as http;
import 'youtube_model.dart';
import 'package:font_awesome_flutter/font_awesome_flutter.dart';
import 'package:simple_permissions/simple_permissions.dart';
import 'package:toast/toast.dart';
import 'package:path_provider/path_provider.dart';
import 'package:dio/dio.dart';

class YoutubeKonversi extends StatefulWidget {
  @override
  _YoutubeKonversiState createState() =&gt; _YoutubeKonversiState();
}

class _YoutubeKonversiState extends State&lt;YoutubeKonversi&gt; {
  bool _allowWriteFile = false;
  TextEditingController videoURL = TextEditingController();
  Result video;
  bool isFetching = false;
  bool fetchSuccess = false;
  bool isDownloading = false;
  bool downloadsuccess = false;
  String status = &quot;Unduh &quot;;
  String progress = &quot;&quot;;
  String lokasi = &quot;&quot;;

  Map&lt;String, String&gt; headers = {
    &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;,
  };

  Map&lt;String, String&gt; body;

  void insertBody(String videoURL) {
    body = {&quot;url&quot;: videoURL, &quot;ajax&quot;: &quot;1&quot;};
  }

  Future&lt;void&gt; getInfo() async {
    insertBody(videoURL.text);
    setState(() {
      progress = &quot;&quot;;
      lokasi = &quot;&quot;;
      status = &quot;Unduh&quot;;
      downloadsuccess = false;
      isDownloading = false;
      isFetching = true;
      fetchSuccess = false;
    });
    try {
      var response = await http.post(&quot;https://y2mate.com/id/analyze/ajax&quot;,
          body: body, headers: headers);

      video = Result.convertResult(response.body);
      setState(() {
        isFetching = false;
        fetchSuccess = true;
      });
    } catch (e) {
      print(e.toString());
      setState(() {
        isFetching = true;
        fetchSuccess = false;
      });
    }
    print(&quot;${video.thumbnail}\n${video.audioName}\n${video.vid}\n${video.id}&quot;);
  }

  Future&lt;void&gt; directURI(
      String _id, String vid, String ajax, String ftype, String quality) async {
    setState(() {
      isDownloading = true;
      status = &quot;Mengunduh...&quot;;
    });
    try {
      var bodies = {
        &quot;type&quot;: &quot;youtube&quot;,
        &quot;_id&quot;: _id,
        &quot;v_id&quot;: vid,
        &quot;ajax&quot;: ajax,
        &quot;ftype&quot;: ftype.replaceAll(&quot;.&quot;, &quot;&quot;),
        &quot;fquality&quot;: quality,
      };
      var response =
          await http.post(&quot;https://y2mate.com/id/convert&quot;, body: bodies);
      print(response.body);
      if (response.body.contains(&quot;Error:&quot;)) {
        Toast.show(
          &quot;Tidak dapat mengunduh \n Silakan coba lagi nanti ...&quot;,
          context,
          duration: 4,
          textColor: Colors.white,
          gravity: Toast.BOTTOM,
        );
        setState(() {
          isDownloading = false;
        });
        return;
      }
      var directURL = RegExp(r'&lt;a href=\\&quot;(.*?)\\&quot;')
          .firstMatch(response.body)
          .group(1)
          .replaceAll(&quot;\\&quot;, &quot;&quot;);
      print(&quot;FIle Link :&quot; + directURL);
      downloadVideo(directURL, video.audioName, video.ftype);
    } catch (e) {
      setState(() {
        isDownloading = false;
      });
      Toast.show(
        e.toString(),
        context,
        duration: 2,
        backgroundColor: Colors.red[300],
        textColor: Colors.black,
        gravity: Toast.BOTTOM,
      );
    }
  }

  Future&lt;void&gt; downloadVideo(
      String trackURL, String trackName, String format) async {
    if (!_allowWriteFile) {
      return null;
    }
    try {
      Dio dio = Dio();

      Response response = await dio.get(
        trackURL,
        onReceiveProgress: (rec, total) {
          setState(() {
            progress = ((rec / total) * 100).toStringAsFixed(0) + &quot;%&quot;;
          });
        },
        options: Options(
          responseType: ResponseType.bytes,
          followRedirects: false,
        ),
      );
      print(response.headers);
      //getExternalStorageDirectory getApplicationDocumentsDirectory
      var directory = await getExternalStorageDirectory();
      var testdir = await Directory(
              '${directory.path}/io.github.rifkyfu32.konversi_youtube_mp3')
          .create(recursive: true);
      File file = File(&quot;${testdir.path}/&quot; + trackName + format);
      var raf = file.openSync(mode: FileMode.write);
      raf.writeFromSync(response.data);
      await raf.close();
      setState(() {
        isDownloading = false;
        status = &quot;Selesai ^_^&quot;;
        downloadsuccess = true;
        lokasi = &quot;${testdir.path}/&quot; + trackName + format;
      });
      print(&quot;${testdir.path}/&quot; + trackName + format);
    } catch (e) {
      setState(() {
        isDownloading = false;
      });
      Toast.show(
        e.toString(),
        context,
        duration: 2,
        backgroundColor: Colors.red[300],
        textColor: Colors.black,
        gravity: Toast.BOTTOM,
      );
    }
  }

  @override
  void initState() {
    super.initState();
    _requestWritePermission();
  }

  _requestWritePermission() async {
    PermissionStatus permissionStatus =
        await SimplePermissions.requestPermission(
            Permission.WriteExternalStorage);

    if (permissionStatus == PermissionStatus.authorized) {
      setState(() {
        _allowWriteFile = true;
      });
    }
  }

  void nothingHere() {
    print(&quot;Tidak masalah&quot;);
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: searchBar(),
        backgroundColor: Color.fromARGB(255, 30, 30, 30),
        centerTitle: true,
      ),
      body: bodyPart(),
    );
  }

  Widget bodyPart() {
    return Container(
      color: Color.fromARGB(255, 30, 30, 30),
      child: Center(
        child: isFetching
            ? progressScreen()
            : fetchSuccess
                ? downloadScreen()
                : Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    children: &lt;Widget&gt;[
                      Text(
                        &quot;Konversi Youtube ke MP3&quot;,
                        style: TextStyle(color: Colors.white, fontSize: 18.0),
                      ),
                      SizedBox(
                        height: 5.0,
                      ),
                      Text(
                        &quot;Api dari y2mate.com&quot;,
                        style: TextStyle(color: Colors.white, fontSize: 16.0),
                      ),
                      SizedBox(
                        height: 5.0,
                      ),
                      Icon(
                        FontAwesomeIcons.youtube,
                        color: Colors.redAccent,
                        size: 45.0,
                      ),
                    ],
                  ),
      ),
    );
  }

  Widget progressScreen() {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: &lt;Widget&gt;[
        CircularProgressIndicator(),
        Padding(
          padding: const EdgeInsets.all(9.0),
          child: Text(
            'Mengambil Data ...',
            style: TextStyle(color: Colors.white, fontSize: 18.0),
          ),
        )
      ],
    );
  }

  Widget downloadScreen() {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: &lt;Widget&gt;[
        Container(
          margin: EdgeInsets.symmetric(horizontal: 20.0),
          height: 300.0,
          decoration: BoxDecoration(
            borderRadius: BorderRadius.all(
              Radius.circular(19.0),
            ),
          ),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.start,
            children: &lt;Widget&gt;[
              Expanded(
                child: Image(
                  image: NetworkImage(video.thumbnail),
                ),
              ),
              SizedBox(
                height: 10.0,
              ),
              labelTitle(&quot;Judul : &quot;, video.audioName),
              SizedBox(
                height: 8.0,
              ),
              labelTitle(&quot;Durasi : &quot;, video.duration),
              SizedBox(
                height: 8.0,
              ),
              FlatButton(
                onPressed: () {
                  !downloadsuccess
                      ? directURI(video.id, video.vid, video.ajax, video.ftype,
                          video.fquality)
                      : nothingHere();
                },
                child: Container(
                  height: 40.0,
                  width: 200.0,
                  decoration: BoxDecoration(
                    color: downloadsuccess == true
                        ? Colors.greenAccent
                        : Colors.redAccent,
                    borderRadius: BorderRadius.all(
                      Radius.circular(
                        50.0,
                      ),
                    ),
                  ),
                  child: Padding(
                    padding: const EdgeInsets.symmetric(
                        vertical: 4.0, horizontal: 10.0),
                    child: Row(
                      mainAxisAlignment: MainAxisAlignment.center,
                      children: &lt;Widget&gt;[
                        Text(
                          status,
                          style: TextStyle(
                              color: downloadsuccess == true
                                  ? Colors.black87
                                  : Colors.white70,
                              fontSize: 16.0),
                        ),
                        SizedBox(
                          width: 12.0,
                        ),
                        Icon(
                          isDownloading
                              ? FontAwesomeIcons.spinner
                              : downloadsuccess
                                  ? FontAwesomeIcons.check
                                  : FontAwesomeIcons.download,
                          color: downloadsuccess == true
                              ? Colors.black87
                              : Colors.white70,
                          size: 20.0,
                        )
                      ],
                    ),
                  ),
                ),
              ),
              Padding(
                padding: const EdgeInsets.only(top: 8.0, bottom: 10.0),
                child: Text(
                  progress,
                  style: TextStyle(color: Colors.white),
                ),
              ),
              downloadsuccess
                  ? Card(
                      elevation: 3.0,
                      child: Padding(
                        padding: const EdgeInsets.all(8.0),
                        child: Column(
                          mainAxisAlignment: MainAxisAlignment.center,
                          crossAxisAlignment: CrossAxisAlignment.start,
                          children: &lt;Widget&gt;[
                            Text('Lokasi berkas : ',
                                style: TextStyle(color: Colors.red)),
                            Padding(padding: EdgeInsets.only(bottom: 5.0)),
                            Text(lokasi,
                                style: TextStyle(color: Colors.black87))
                          ],
                        ),
                      ),
                    )
                  : SizedBox(
                      height: 8.0,
                    )
            ],
          ),
        ),
      ],
    );
  }

  Widget labelTitle(String title, String inpute) {
    return Row(
      mainAxisAlignment: MainAxisAlignment.center,
      children: &lt;Widget&gt;[
        Flexible(
          child: Text(
            title,
            style: TextStyle(
                color: Colors.redAccent,
                fontSize: 17.0,
                fontWeight: FontWeight.bold),
          ),
        ),
        Flexible(
          child: Text(
            inpute,
            style: TextStyle(
                color: Colors.white,
                fontSize: 16.0,
                fontWeight: FontWeight.normal),
          ),
        ),
      ],
    );
  }

  Widget searchBar() {
    return Container(
      padding: EdgeInsets.symmetric(horizontal: 4.0),
      margin: EdgeInsets.symmetric(
        horizontal: 20.0,
        vertical: 8.0,
      ),
      decoration: BoxDecoration(
        color: Color.fromARGB(100, 255, 255, 255),
        borderRadius: BorderRadius.all(
          Radius.circular(10.0),
        ),
      ),
      child: Row(
        children: &lt;Widget&gt;[
          Flexible(
            flex: 1,
            child: TextFormField(
              controller: videoURL,
              style: TextStyle(color: Colors.white),
              decoration: InputDecoration(
                hintText: &quot;Video URL ...&quot;,
                border: InputBorder.none,
                hintStyle: TextStyle(color: Colors.white70),
                icon: IconButton(
                  onPressed: () {
                    getInfo();
                  },
                  icon: Icon(
                    Icons.search,
                    color: Colors.white,
                  ),
                ),
              ),
              keyboardType: TextInputType.url,
              autofocus: true,
              onFieldSubmitted: (String value) {
                getInfo();
              },
            ),
          ),
        ],
      ),
    );
  }
}
</code></pre>

<p><strong># Sentuhan Terakhir</strong></p>

<p>Selanjutnya kita ubah main.dart, hapus semua kemudian ganti dengan <code>snippet code</code> berikut ini :</p>

<pre><code class="language-bash">import 'package:flutter/material.dart';
import 'youtube_konversi.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Konversi Youtube ke MP3',
      theme: ThemeData(
        primarySwatch: Colors.blue,
        accentColor: Colors.red[400]
      ),
      debugShowCheckedModeBanner: false,
      home: YoutubeKonversi(),
    );
  }
}
</code></pre>

<p>Selesai. sekarang jalankan aplikasi <code>Konverter Youtube to MP3</code> dengan menekan tombol F5, namun sebelumnya jangan lupa start Android Emulator atau iOS Simulator.</p>

<p>Hasilnya akan terlihat seperti berikut ini:</p>

<p><img data-src="/img/konverter-youtube-mp3/1.png" class="lazyload" />
<img data-src="/img/konverter-youtube-mp3/2.png" class="lazyload" />
<img data-src="/img/konverter-youtube-mp3/3.png" class="lazyload" /></p>

<p>Hasil aplikasi bisa didownload <a href="https://drive.google.com/file/d/1I8xSeqOuoFdzYrQHYyFdgIWZt2im_DhQ/view" target="_blank">disini</a></p>

                            </div>
                            <div class="post-footer mt-5 py-4">
                                
                                 <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'rifkyfu32-github-io';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

</script>
<noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
    <span class="logo-disqus">Disqus</span>
</a> 
                            </div>
                        </div>
                    </div>
                </div>

                 <footer class="mt-5 mb-5">
    <div class="text-center text-secondary">

       &copy; 2020 <a href="https://rifkyfu32.github.io" class="text-secondary"> Rifky Fuady</a> &ndash; <a href="/privacy-policy" class="text-secondary"> Privacy Policy</a>

    </div>
</footer>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/js/jquery-3.2.1.slim.min.js"></script>
<script type="text/javascript" src="/js/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/prism.js"></script>
<script type="text/javascript" async src="/js/lazysizes.min.js"></script>





</body>

</html>